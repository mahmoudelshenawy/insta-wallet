@model FeesLimitFormViewModel

<div class="accordion" id="PaymentMethodsForm">
    <form asp-action="AddFeeLimit" method="post" id="FeeLimitForm" asp-route-id="@Model.CurrencyId" asp-route-tType="@Model.tType">

        @for (var i = 0; i < Model.PaymentMethods.Count(); i++)
        {

            var paymentMethod = Model.PaymentMethods[i];

            <div class="card mb-0">
                <div class="card-header single-fee-form" id="@paymentMethod.Id">
                    <h2 class="mb-0">
                        <button class="btn btn-link btn-block text-left collapsed" type="button" data-toggle="collapse" data-target="#@paymentMethod.Name" aria-expanded="false" aria-controls="collapseTwo">
                            @paymentMethod.Name
                        </button>
                    </h2>
                </div>

                <div id="@paymentMethod.Name" class="collapse" aria-labelledby="@paymentMethod.Id" data-parent="#PaymentMethodsForm">
                    <div class="card-body">
                        <input type="hidden" asp-for="@Model.PaymentMethods[i].Id" />
                        <input type="hidden" asp-for="@Model.TransactionTypeId" />
                        <input type="hidden" asp-for="@Model.CurrencyId" />
                        <input type="hidden" asp-for="@Model.TypeToDisplay" />
                        <input type="hidden" asp-for="@Model.TransactionType" />
                        <input type="hidden" asp-for="@Model.tType" />
                        <div class="form-group clearfix">
                            <div class="icheck-primary d-inline">
                                <input type="checkbox" id="checkboxPrimary1" asp-for="@Model.FeesLimits.HasTransaction[i]">
                                <label for="checkboxPrimary1">
                                    Active
                                </label>
                            </div>
                        </div>

                        <input type="hidden" asp-for="@Model.FeesLimits.PaymentMethodId[i]" />
                        <div class="form-group">
                            <label asp-for="@Model.FeesLimits.MinLimit" class=" col-form-label"></label>
                            <div class="">
                                <input class="form-control" asp-for="@Model.FeesLimits.MinLimit[i]">
                                <span asp-validation-for="@Model.FeesLimits.MinLimit" class="text-danger"></span>
                            </div>
                        </div>
                        <div class="form-group">
                            <label asp-for="@Model.FeesLimits.MaxLimit" class=" col-form-label"></label>
                            <div class="">
                                <input class="form-control" asp-for="@Model.FeesLimits.MaxLimit[i]">
                                <span asp-validation-for="@Model.FeesLimits.MaxLimit" class="text-danger"></span>
                            </div>
                        </div>
                        <div class="form-group">
                            <label asp-for="@Model.FeesLimits.FixedAmount" class=" col-form-label"></label>
                            <div class="">
                                <input class="form-control" asp-for="@Model.FeesLimits.FixedAmount[i]">
                                <span asp-validation-for="@Model.FeesLimits.FixedAmount" class="text-danger"></span>
                            </div>
                        </div>
                        <div class="form-group">
                            <label asp-for="@Model.FeesLimits.PercentAmount" class=" col-form-label"></label>
                            <div class="">
                                <input class="form-control" asp-for="@Model.FeesLimits.PercentAmount[i]">
                                <span asp-validation-for="@Model.FeesLimits.PercentAmount" class="text-danger"></span>
                            </div>
                        </div>

                    </div>
                </div>


            </div>
        }
        <div class="mt-3 justify-content-between">
            <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
            <button type="submit" class="btn btn-primary">Save</button>
        </div>
    </form>
</div>

@* https://daftsex.com/watch/-90647749_456269938*@